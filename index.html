<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calendario de Dieta para Bajar de Peso</title>
    <style>
        :root {
            --primary-color: #2E7D32;
            --secondary-color: #4CAF50;
            --accent-color: #FF9800;
            --light-color: #f9f9f9;
            --dark-color: #333;
            --breakfast-color: #FFEB3B;
            --lunch-color: #4CAF50;
            --snack-color: #FF9800;
            --dinner-color: #2196F3;
            --water-color: #03A9F4;
            --exercise-color: #9C27B0;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f5f5;
            color: var(--dark-color);
            line-height: 1.6;
            padding: 10px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 20px;
            padding: 15px;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: var(--primary-color);
            margin-bottom: 8px;
            font-size: 1.4rem;
        }
        
        .subtitle {
            color: var(--dark-color);
            font-weight: normal;
            margin-bottom: 15px;
            font-size: 0.9rem;
        }
        
        .calendar-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            background-color: white;
            padding: 12px;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .month-nav {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        button {
            background-color: var(--secondary-color);
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.3s;
            font-size: 0.85rem;
        }
        
        button:hover {
            background-color: var(--primary-color);
        }
        
        .current-month {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--primary-color);
            text-align: center;
            min-width: 160px;
        }
        
        .calendar-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .calendar {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            padding: 12px;
            order: 1;
        }
        
        .calendar-header {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            text-align: center;
            font-weight: bold;
            margin-bottom: 8px;
            padding: 8px 0;
            border-bottom: 1px solid #eee;
            font-size: 0.8rem;
        }
        
        .calendar-days {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 4px;
        }
        
        .day {
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 6px;
            min-height: 70px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.75rem;
        }
        
        .day:hover {
            background-color: #f0f0f0;
        }
        
        .day.active {
            background-color: var(--secondary-color);
            color: white;
        }
        
        .day-number {
            font-weight: bold;
            margin-bottom: 3px;
            display: block;
            text-align: right;
            font-size: 0.8rem;
        }
        
        .event {
            margin-bottom: 1px;
            padding: 2px 3px;
            border-radius: 2px;
            font-size: 0.6rem;
            cursor: pointer;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        
        .breakfast {
            background-color: var(--breakfast-color);
        }
        
        .lunch {
            background-color: var(--lunch-color);
            color: white;
        }
        
        .snack {
            background-color: var(--snack-color);
            color: white;
        }
        
        .dinner {
            background-color: var(--dinner-color);
            color: white;
        }
        
        .water {
            background-color: var(--water-color);
            color: white;
        }
        
        .exercise {
            background-color: var(--exercise-color);
            color: white;
        }
        
        .details-panel {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            padding: 15px;
            max-height: 500px;
            overflow-y: auto;
            order: 2;
        }
        
        .details-header {
            text-align: center;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 1px solid #eee;
            color: var(--primary-color);
        }
        
        .details-header h2 {
            font-size: 1.2rem;
        }
        
        .time-slot {
            margin-bottom: 15px;
            padding: 12px;
            border-radius: 8px;
            background-color: #f9f9f9;
        }
        
        .time-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }
        
        .time {
            font-weight: bold;
            color: var(--primary-color);
            font-size: 0.9rem;
        }
        
        .meal-type {
            padding: 3px 8px;
            border-radius: 15px;
            font-size: 0.75rem;
            color: white;
        }
        
        .meal-title {
            font-weight: bold;
            margin-bottom: 5px;
            font-size: 0.9rem;
        }
        
        .meal-description {
            font-size: 0.85rem;
            line-height: 1.4;
        }
        
        .legend {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 15px;
            justify-content: center;
            order: 3;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            margin-right: 10px;
            font-size: 0.8rem;
        }
        
        .legend-color {
            width: 12px;
            height: 12px;
            margin-right: 4px;
            border-radius: 2px;
        }
        
        .empty-day {
            background-color: #f9f9f9;
            border: 1px dashed #ddd;
        }
        
        .mobile-tabs {
            display: none;
        }
        
        /* Estilos para tablets y escritorio */
        @media (min-width: 768px) {
            body {
                padding: 20px;
            }
            
            header {
                padding: 20px;
                margin-bottom: 30px;
            }
            
            h1 {
                font-size: 1.8rem;
                margin-bottom: 10px;
            }
            
            .subtitle {
                font-size: 1rem;
                margin-bottom: 20px;
            }
            
            .calendar-controls {
                padding: 15px;
                margin-bottom: 20px;
            }
            
            button {
                padding: 10px 15px;
                font-size: 1rem;
            }
            
            .current-month {
                font-size: 1.5rem;
                min-width: 200px;
            }
            
            .calendar-container {
                display: grid;
                grid-template-columns: 2fr 1fr;
                gap: 20px;
            }
            
            .calendar {
                padding: 15px;
                order: unset;
            }
            
            .calendar-header {
                padding: 10px 0;
                margin-bottom: 10px;
                font-size: 0.9rem;
            }
            
            .day {
                padding: 10px;
                min-height: 100px;
                font-size: 0.8rem;
            }
            
            .day-number {
                font-size: 0.9rem;
            }
            
            .event {
                padding: 3px 5px;
                font-size: 0.7rem;
            }
            
            .details-panel {
                padding: 20px;
                max-height: 700px;
                order: unset;
            }
            
            .details-header h2 {
                font-size: 1.5rem;
            }
            
            .time-slot {
                margin-bottom: 20px;
                padding: 15px;
            }
            
            .time {
                font-size: 1rem;
            }
            
            .meal-type {
                font-size: 0.8rem;
            }
            
            .meal-title {
                font-size: 1rem;
            }
            
            .meal-description {
                font-size: 0.9rem;
            }
            
            .legend {
                margin-top: 20px;
                gap: 10px;
            }
            
            .legend-item {
                font-size: 0.9rem;
            }
            
            .legend-color {
                width: 15px;
                height: 15px;
                margin-right: 5px;
            }
        }
        
        /* Estilos espec√≠ficos para m√≥viles muy peque√±os */
        @media (max-width: 360px) {
            .calendar-header {
                font-size: 0.7rem;
            }
            
            .day {
                min-height: 60px;
                padding: 4px;
            }
            
            .event {
                font-size: 0.55rem;
                padding: 1px 2px;
            }
            
            .current-month {
                font-size: 1rem;
                min-width: 130px;
            }
            
            button {
                padding: 6px 8px;
                font-size: 0.75rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Calendario de Dieta para Bajar de Peso</h1>
            <p class="subtitle">Plan nutricional de 3 meses para p√©rdida de peso controlada</p>
        </header>
        
        <div class="calendar-controls">
            <div class="month-nav">
                <button id="prev-month">‚Üê Anterior</button>
                <div class="current-month" id="current-month">Mes Actual</div>
                <button id="next-month">Siguiente ‚Üí</button>
            </div>
            <button id="today-btn">Hoy</button>
        </div>
        
        <div class="calendar-container">
            <div class="calendar">
                <div class="calendar-header">
                    <div>Lun</div>
                    <div>Mar</div>
                    <div>Mi√©</div>
                    <div>Jue</div>
                    <div>Vie</div>
                    <div>S√°b</div>
                    <div>Dom</div>
                </div>
                <div class="calendar-days" id="calendar-days">
                    <!-- Los d√≠as se generar√°n con JavaScript -->
                </div>
            </div>
            
            <div class="details-panel">
                <div class="details-header">
                    <h2 id="details-date">Fecha Seleccionada</h2>
                </div>
                <div id="time-slots">
                    <!-- Los horarios y detalles de comidas se generar√°n con JavaScript -->
                </div>
            </div>
        </div>
        
        <div class="legend">
            <div class="legend-item">
                <div class="legend-color breakfast"></div>
                <span>Desayuno</span>
            </div>
            <div class="legend-item">
                <div class="legend-color lunch"></div>
                <span>Almuerzo</span>
            </div>
            <div class="legend-item">
                <div class="legend-color snack"></div>
                <span>Merienda</span>
            </div>
            <div class="legend-item">
                <div class="legend-color dinner"></div>
                <span>Cena</span>
            </div>
            <div class="legend-item">
                <div class="legend-color water"></div>
                <span>Agua</span>
            </div>
            <div class="legend-item">
                <div class="legend-color exercise"></div>
                <span>Ejercicio</span>
            </div>
        </div>
    </div>

    <script>
        // Base de datos ampliada de comidas
        const mealDatabase = {
            breakfast: [
                {
                    title: "Batido Verde Energ√©tico",
                    description: "Batido de espinacas, 1/2 pl√°tano, prote√≠na en polvo, semillas de ch√≠a y leche de almendras."
                },
                {
                    title: "Avena con Frutos Rojos",
                    description: "Avena cocida con frutos rojos, miel y almendras fileteadas."
                },
                {
                    title: "Tostadas de Aguacate",
                    description: "Pan integral tostado con aguacate y huevo duro en rodajas."
                },
                {
                    title: "Yogur con Granola Casera",
                    description: "Yogur griego natural con granola sin az√∫car y frutas frescas."
                },
                {
                    title: "Revuelto de Verduras",
                    description: "Huevos revueltos con espinacas, champi√±ones y cebolla."
                },
                {
                    title: "Pud√≠n de Ch√≠a",
                    description: "Pud√≠n de ch√≠a con leche de almendras y frutos rojos."
                }
            ],
            lunch: [
                {
                    title: "Ensalada de Quinoa y Pollo",
                    description: "Quinoa con pollo a la plancha, tomate, pepino y aderezo de yogur."
                },
                {
                    title: "Salm√≥n al Horno con Verduras",
                    description: "Salm√≥n al horno con br√≥coli al vapor y batata asada."
                },
                {
                    title: "Wrap de Pavo y Aguacate",
                    description: "Tortilla integral con pavo, aguacate, lechuga y tomate."
                },
                {
                    title: "Bowl de Lentejas y Verduras",
                    description: "Lentejas con zanahoria, espinacas, aguacate y semillas."
                },
                {
                    title: "Pescado a la Plancha con Ensalada",
                    description: "Merluza a la plancha con ensalada mixta y vinagreta ligera."
                },
                {
                    title: "Ensalada C√©sar Saludable",
                    description: "Lechuga romana con pollo, crutones integrales y aderezo light."
                },
                {
                    title: "Guiso de Lentejas Ligero",
                    description: "Lentejas con verduras y carne magra. Sin embutidos."
                },
                {
                    title: "Tacos de Vegetales",
                    description: "Tortillas de ma√≠z con frijoles, pimiento, cebolla y guacamole."
                },
                {
                    title: "Pechuga de Pollo Rellena",
                    description: "Pollo relleno de espinacas y queso feta, horneado con verduras."
                },
                {
                    title: "Berenjenas Rellenas",
                    description: "Berenjenas horneadas rellenas de carne magra y tomate."
                }
            ],
            snack: [
                {
                    title: "Yogur con Frutos Secos",
                    description: "Yogur griego con frutos rojos y almendras."
                },
                {
                    title: "Manzana con Mantequilla de Cacahuete",
                    description: "Manzana con mantequilla de cacahuete natural."
                },
                {
                    title: "Batido de Prote√≠na",
                    description: "Batido de prote√≠na con leche de almendras y pl√°tano."
                },
                {
                    title: "Huevo Duro con Aguacate",
                    description: "Huevo duro con aguacate y sal marina."
                },
                {
                    title: "Bastones de Verduras con Hummus",
                    description: "Zanahoria, pepino y apio con hummus casero."
                },
                {
                    title: "Pu√±ado de Frutos Secos",
                    description: "Almendras, nueces y pasas."
                }
            ],
            dinner: [
                {
                    title: "Crema de Verduras",
                    description: "Crema de calabac√≠n y br√≥coli con jengibre."
                },
                {
                    title: "Tortilla de Espinacas",
                    description: "Tortilla de claras con espinacas y champi√±ones."
                },
                {
                    title: "Pescado al Vapor con Esp√°rragos",
                    description: "Pescado al vapor con esp√°rragos salteados con ajo."
                },
                {
                    title: "Ensalada de Garbanzos",
                    description: "Garbanzos con at√∫n, pimiento y cebolla morada."
                },
                {
                    title: "Calabac√≠n Relleno",
                    description: "Calabac√≠n horneado relleno de quinoa y champi√±ones."
                },
                {
                    title: "Sopa de Pollo y Verduras",
                    description: "Sopa casera de pollo con verduras. Baja en sal."
                }
            ],
            water: {
                title: "Hidrataci√≥n",
                description: "2 vasos de agua. A√±ade lim√≥n, pepino o hierbas para sabor."
            },
            exercise: [
                {
                    title: "Cardio Moderado",
                    description: "30-40 min de caminata, bicicleta o el√≠ptica."
                },
                {
                    title: "Entrenamiento de Fuerza",
                    description: "20-30 min de ejercicios con peso corporal o pesas."
                },
                {
                    title: "Yoga o Estiramientos",
                    description: "30 min de yoga suave o rutina de estiramientos."
                },
                {
                    title: "Entrenamiento HIIT",
                    description: "15-20 min de entrenamiento por intervalos."
                },
                {
                    title: "Nataci√≥n",
                    description: "30 min de nataci√≥n a ritmo moderado."
                }
            ]
        };

        // Horarios fijos
        const schedule = [
            { time: "07:00", type: "breakfast", title: "Desayuno" },
            { time: "08:00", type: "water", title: "Agua" },
            { time: "10:00", type: "water", title: "Agua" },
            { time: "12:00", type: "exercise", title: "Ejercicio" },
            { time: "13:00", type: "lunch", title: "Almuerzo" },
            { time: "15:00", type: "water", title: "Agua" },
            { time: "16:30", type: "snack", title: "Merienda" },
            { time: "17:00", type: "water", title: "Agua" },
            { time: "20:00", type: "water", title: "Agua" },
            { time: "20:30", type: "dinner", title: "Cena" }
        ];

        let currentDate = new Date();
        let selectedDate = new Date();

        // Inicializar el calendario
        document.addEventListener('DOMContentLoaded', function() {
            renderCalendar(currentDate);
            updateDetailsPanel(selectedDate);
            
            // Event listeners para los botones
            document.getElementById('prev-month').addEventListener('click', function() {
                currentDate.setMonth(currentDate.getMonth() - 1);
                renderCalendar(currentDate);
            });
            
            document.getElementById('next-month').addEventListener('click', function() {
                currentDate.setMonth(currentDate.getMonth() + 1);
                renderCalendar(currentDate);
            });
            
            document.getElementById('today-btn').addEventListener('click', function() {
                currentDate = new Date();
                selectedDate = new Date();
                renderCalendar(currentDate);
                updateDetailsPanel(selectedDate);
            });
        });

        function renderCalendar(date) {
            const calendarDays = document.getElementById('calendar-days');
            const currentMonthElement = document.getElementById('current-month');
            
            // Actualizar el t√≠tulo del mes
            const monthNames = ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio",
                               "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"];
            currentMonthElement.textContent = `${monthNames[date.getMonth()]} ${date.getFullYear()}`;
            
            // Limpiar el calendario
            calendarDays.innerHTML = '';
            
            // Obtener el primer d√≠a del mes y el √∫ltimo d√≠a del mes
            const firstDay = new Date(date.getFullYear(), date.getMonth(), 1);
            const lastDay = new Date(date.getFullYear(), date.getMonth() + 1, 0);
            
            // Obtener el d√≠a de la semana del primer d√≠a (0 = Domingo, 1 = Lunes, etc.)
            let firstDayOfWeek = firstDay.getDay();
            // Ajustar para que la semana empiece en lunes
            firstDayOfWeek = firstDayOfWeek === 0 ? 6 : firstDayOfWeek - 1;
            
            // A√±adir d√≠as vac√≠os al principio si es necesario
            for (let i = 0; i < firstDayOfWeek; i++) {
                const emptyDay = document.createElement('div');
                emptyDay.className = 'day empty-day';
                calendarDays.appendChild(emptyDay);
            }
            
            // A√±adir los d√≠as del mes
            for (let day = 1; day <= lastDay.getDate(); day++) {
                const dayElement = document.createElement('div');
                dayElement.className = 'day';
                
                // Marcar el d√≠a actual
                const currentDay = new Date(date.getFullYear(), date.getMonth(), day);
                if (currentDay.toDateString() === selectedDate.toDateString()) {
                    dayElement.classList.add('active');
                }
                
                // Marcar hoy
                const today = new Date();
                if (currentDay.toDateString() === today.toDateString()) {
                    dayElement.style.border = '2px solid var(--accent-color)';
                }
                
                dayElement.innerHTML = `<span class="day-number">${day}</span>`;
                
                // A√±adir eventos del d√≠a
                addEventsToDay(dayElement, day);
                
                // A√±adir evento de clic
                dayElement.addEventListener('click', function() {
                    // Remover la clase active de todos los d√≠as
                    document.querySelectorAll('.day').forEach(d => {
                        d.classList.remove('active');
                    });
                    
                    // A√±adir la clase active al d√≠a seleccionado
                    dayElement.classList.add('active');
                    
                    // Actualizar la fecha seleccionada
                    selectedDate = new Date(date.getFullYear(), date.getMonth(), day);
                    updateDetailsPanel(selectedDate);
                    
                    // En m√≥viles, desplazar hacia el panel de detalles
                    if (window.innerWidth < 768) {
                        document.querySelector('.details-panel').scrollIntoView({ 
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
                
                calendarDays.appendChild(dayElement);
            }
        }

        function addEventsToDay(dayElement, day) {
            // Solo a√±adir algunos eventos para no saturar la vista
            const eventsToShow = [
                { time: "07:00", type: "breakfast", text: "Des" },
                { time: "13:00", type: "lunch", text: "Alm" },
                { time: "16:30", type: "snack", text: "Mer" },
                { time: "20:30", type: "dinner", text: "Cena" }
            ];
            
            // Variar ligeramente los eventos seg√∫n el d√≠a para hacerlo m√°s interesante
            if (day % 3 === 0) {
                eventsToShow.push({ time: "12:00", type: "exercise", text: "Ejerc" });
            }
            
            eventsToShow.forEach(event => {
                const eventElement = document.createElement('div');
                eventElement.className = `event ${event.type}`;
                eventElement.textContent = `${event.time} - ${event.text}`;
                dayElement.appendChild(eventElement);
            });
        }

        function updateDetailsPanel(date) {
            const detailsDate = document.getElementById('details-date');
            const timeSlots = document.getElementById('time-slots');
            
            // Actualizar la fecha en el panel
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            detailsDate.textContent = date.toLocaleDateString('es-ES', options);
            
            // Limpiar los slots de tiempo
            timeSlots.innerHTML = '';
            
            // Calcular √≠ndices para seleccionar comidas basadas en la fecha
            const dayOfMonth = date.getDate();
            const month = date.getMonth();
            
            // A√±adir cada horario y comida
            schedule.forEach(slot => {
                const timeSlotElement = document.createElement('div');
                timeSlotElement.className = 'time-slot';
                
                let mealInfo;
                
                // Seleccionar comida diferente seg√∫n el d√≠a y tipo
                if (slot.type === 'water') {
                    mealInfo = mealDatabase.water;
                } else {
                    const mealArray = mealDatabase[slot.type];
                    // Usar una combinaci√≥n de d√≠a y mes para seleccionar comida
                    const index = (dayOfMonth + month) % mealArray.length;
                    mealInfo = mealArray[index];
                }
                
                timeSlotElement.innerHTML = `
                    <div class="time-header">
                        <div class="time">${slot.time}</div>
                        <div class="meal-type ${slot.type}">${slot.title}</div>
                    </div>
                    <div class="meal-title">${mealInfo.title}</div>
                    <div class="meal-description">${mealInfo.description}</div>
                `;
                
                timeSlots.appendChild(timeSlotElement);
            });
            
            // A√±adir recomendaci√≥n diaria personalizada
            const tipElement = document.createElement('div');
            tipElement.className = 'time-slot';
            tipElement.style.backgroundColor = '#E8F5E9';
            tipElement.innerHTML = `
                <div class="time-header">
                    <div class="time">üí°</div>
                    <div class="meal-type" style="background-color: var(--accent-color)">Consejo del D√≠a</div>
                </div>
                <div class="meal-description">${getDailyTip(dayOfMonth)}</div>
            `;
            timeSlots.appendChild(tipElement);
        }

        function getDailyTip(day) {
            const tips = [
                "Bebe agua con lim√≥n en ayunas para activar tu metabolismo.",
                "Mastica bien cada bocado y come sin prisa.",
                "Incluye prote√≠na en cada comida para mantener la saciedad.",
                "Prefiere cocciones al vapor, horno o plancha.",
                "Realiza 30 minutos de actividad f√≠sica diaria.",
                "Evita alimentos procesados y az√∫cares refinados.",
                "Incluye verduras de hoja verde en tus comidas.",
                "Toma infusiones de jengibre o t√© verde.",
                "Planifica tus comidas con anticipaci√≥n.",
                "Duerme al menos 7-8 horas cada noche.",
                "Consume grasas saludables como aguacate y frutos secos.",
                "Incluye fibra para mejorar digesti√≥n y saciedad.",
                "Reduce el consumo de sal.",
                "Come cada 3-4 horas.",
                "Realiza ejercicios de fuerza 2 veces por semana.",
                "Toma 2 litros de agua al d√≠a.",
                "Incluye probi√≥ticos como yogur natural.",
                "Evita comer frente al televisor.",
                "Prefiere frutas enteras en lugar de jugos.",
                "Controla porciones usando platos peque√±os.",
                "Incluye especias para dar sabor sin calor√≠as.",
                "Realiza actividad f√≠sica en ayunas.",
                "Consume alimentos ricos en omega-3.",
                "Evita carbohidratos refinados.",
                "Incluye legumbres 2-3 veces por semana.",
                "Toma un pu√±ado de frutos secos como snack.",
                "Realiza ejercicios de respiraci√≥n profunda.",
                "Consume alimentos ricos en vitamina C.",
                "Prefiere edulcorantes naturales como stevia.",
                "Incluye alimentos fermentados.",
                "Realiza estiramientos diarios."
            ];
            
            return tips[(day - 1) % tips.length];
        }
    </script>
</body>
</html>

