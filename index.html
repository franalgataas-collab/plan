<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calendario de Dieta para Bajar de Peso</title>
    <style>
        :root {
            --primary-color: #2E7D32;
            --secondary-color: #4CAF50;
            --accent-color: #FF9800;
            --light-color: #f9f9f9;
            --dark-color: #333;
            --breakfast-color: #FFEB3B;
            --lunch-color: #4CAF50;
            --snack-color: #FF9800;
            --dinner-color: #2196F3;
            --water-color: #03A9F4;
            --exercise-color: #9C27B0;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f5f5;
            color: var(--dark-color);
            line-height: 1.6;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: var(--primary-color);
            margin-bottom: 10px;
        }
        
        .subtitle {
            color: var(--dark-color);
            font-weight: normal;
            margin-bottom: 20px;
        }
        
        .calendar-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            background-color: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .month-nav {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        button {
            background-color: var(--secondary-color);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.3s;
        }
        
        button:hover {
            background-color: var(--primary-color);
        }
        
        .current-month {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .calendar-container {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 20px;
        }
        
        .calendar {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 15px;
        }
        
        .calendar-header {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            text-align: center;
            font-weight: bold;
            margin-bottom: 10px;
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }
        
        .calendar-days {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
        }
        
        .day {
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 10px;
            min-height: 120px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .day:hover {
            background-color: #f0f0f0;
            transform: translateY(-2px);
        }
        
        .day.active {
            background-color: var(--secondary-color);
            color: white;
        }
        
        .day-number {
            font-weight: bold;
            margin-bottom: 5px;
            display: block;
            text-align: right;
        }
        
        .event {
            margin-bottom: 2px;
            padding: 3px 5px;
            border-radius: 3px;
            font-size: 0.7rem;
            cursor: pointer;
        }
        
        .breakfast {
            background-color: var(--breakfast-color);
        }
        
        .lunch {
            background-color: var(--lunch-color);
            color: white;
        }
        
        .snack {
            background-color: var(--snack-color);
            color: white;
        }
        
        .dinner {
            background-color: var(--dinner-color);
            color: white;
        }
        
        .water {
            background-color: var(--water-color);
            color: white;
        }
        
        .exercise {
            background-color: var(--exercise-color);
            color: white;
        }
        
        .details-panel {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 20px;
            max-height: 800px;
            overflow-y: auto;
        }
        
        .details-header {
            text-align: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
            color: var(--primary-color);
        }
        
        .time-slot {
            margin-bottom: 20px;
            padding: 15px;
            border-radius: 8px;
            background-color: #f9f9f9;
        }
        
        .time-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .time {
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .meal-type {
            padding: 3px 8px;
            border-radius: 15px;
            font-size: 0.8rem;
            color: white;
        }
        
        .meal-title {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .meal-description {
            font-size: 0.9rem;
        }
        
        .legend {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 20px;
            justify-content: center;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            margin-right: 15px;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            margin-right: 5px;
            border-radius: 3px;
        }
        
        .empty-day {
            background-color: #f9f9f9;
            border: 1px dashed #ddd;
        }
        
        @media (max-width: 768px) {
            .calendar-container {
                grid-template-columns: 1fr;
            }
            
            .calendar-days {
                grid-template-columns: repeat(7, 1fr);
            }
            
            .day {
                min-height: 80px;
                padding: 5px;
            }
            
            .event {
                font-size: 0.6rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Calendario de Dieta para Bajar de Peso</h1>
            <p class="subtitle">Plan nutricional de 3 meses para p√©rdida de peso controlada</p>
        </header>
        
        <div class="calendar-controls">
            <div class="month-nav">
                <button id="prev-month">‚Üê Mes Anterior</button>
                <div class="current-month" id="current-month">Mes Actual</div>
                <button id="next-month">Mes Siguiente ‚Üí</button>
            </div>
            <button id="today-btn">Hoy</button>
        </div>
        
        <div class="calendar-container">
            <div class="calendar">
                <div class="calendar-header">
                    <div>Lun</div>
                    <div>Mar</div>
                    <div>Mi√©</div>
                    <div>Jue</div>
                    <div>Vie</div>
                    <div>S√°b</div>
                    <div>Dom</div>
                </div>
                <div class="calendar-days" id="calendar-days">
                    <!-- Los d√≠as se generar√°n con JavaScript -->
                </div>
            </div>
            
            <div class="details-panel">
                <div class="details-header">
                    <h2 id="details-date">Fecha Seleccionada</h2>
                </div>
                <div id="time-slots">
                    <!-- Los horarios y detalles de comidas se generar√°n con JavaScript -->
                </div>
            </div>
        </div>
        
        <div class="legend">
            <div class="legend-item">
                <div class="legend-color breakfast"></div>
                <span>Desayuno</span>
            </div>
            <div class="legend-item">
                <div class="legend-color lunch"></div>
                <span>Almuerzo</span>
            </div>
            <div class="legend-item">
                <div class="legend-color snack"></div>
                <span>Merienda</span>
            </div>
            <div class="legend-item">
                <div class="legend-color dinner"></div>
                <span>Cena</span>
            </div>
            <div class="legend-item">
                <div class="legend-color water"></div>
                <span>Agua</span>
            </div>
            <div class="legend-item">
                <div class="legend-color exercise"></div>
                <span>Ejercicio</span>
            </div>
        </div>
    </div>

    <script>
        // Base de datos ampliada de comidas
        const mealDatabase = {
            breakfast: [
                {
                    title: "Batido Verde Energ√©tico",
                    description: "Batido de espinacas, 1/2 pl√°tano, 1 cucharada de prote√≠na en polvo, 1 cucharadita de semillas de ch√≠a y 200ml de leche de almendras."
                },
                {
                    title: "Avena con Frutos Rojos",
                    description: "1/2 taza de avena cocida con agua, 1/2 taza de frutos rojos frescos o congelados, 1 cucharadita de miel y 5 almendras fileteadas."
                },
                {
                    title: "Tostadas de Aguacate",
                    description: "2 rebanadas de pan integral tostado, 1/4 de aguacate machacado, 1 huevo duro en rodajas, sal y pimienta al gusto."
                },
                {
                    title: "Yogur con Granola Casera",
                    description: "1 taza de yogur griego natural, 3 cucharadas de granola casera sin az√∫car, 1/2 taza de frutas frescas picadas (manzana, pera)."
                },
                {
                    title: "Revuelto de Verduras",
                    description: "2 huevos revueltos con espinacas, champi√±ones y cebolla. Acompa√±ado de 1 rebanada de pan integral."
                },
                {
                    title: "Pud√≠n de Ch√≠a",
                    description: "Pud√≠n de ch√≠a preparado con 3 cucharadas de semillas de ch√≠a, 200ml de leche de almendras y endulzado con stevia. Decorado con frutos rojos."
                }
            ],
            lunch: [
                {
                    title: "Ensalada de Quinoa y Pollo",
                    description: "Ensalada de quinoa con pechuga de pollo a la plancha, tomate cherry, pepino, pimiento rojo y aderezo de yogur natural con hierbas."
                },
                {
                    title: "Salm√≥n al Horno con Verduras",
                    description: "Filete de salm√≥n al horno con lim√≥n y eneldo. Acompa√±ado de br√≥coli al vapor y 1/2 batata asada."
                },
                {
                    title: "Wrap de Pavo y Aguacate",
                    description: "Tortilla integral con pechuga de pavo, aguacate, lechuga, tomate y una cucharadita de mostaza."
                },
                {
                    title: "Bowl de Lentejas y Verduras",
                    description: "Bowl con lentejas cocidas, zanahoria rallada, espinacas frescas, 1/4 de aguacate y semillas de girasol."
                },
                {
                    title: "Pescado a la Plancha con Ensalada",
                    description: "Filete de merluza o lubina a la plancha con ajo y perejil. Ensalada mixta con lechuga, r√°banos, zanahoria y vinagreta ligera."
                },
                {
                    title: "Ensalada C√©sar Saludable",
                    description: "Ensalada de lechuga romana, pollo a la plancha, crutones de pan integral, aderezo C√©sar light casero y queso parmesano rallado."
                },
                {
                    title: "Guiso de Lentejas Ligero",
                    description: "Guiso de lentejas con verduras (cebolla, zanahoria, pimiento), especias y un trozo peque√±o de carne magra. Sin embutidos."
                },
                {
                    title: "Tacos de Vegetales",
                    description: "2 tortillas de ma√≠z con frijoles negros, pimiento salteado, cebolla morada, ma√≠z y guacamole light."
                },
                {
                    title: "Pechuga de Pollo Rellena",
                    description: "Pechuga de pollo rellena de espinacas y queso feta light, horneada con tomates cherry y calabac√≠n."
                },
                {
                    title: "Berenjenas Rellenas",
                    description: "Berenjenas horneadas rellenas de carne picada magra, cebolla, ajo y tomate natural, gratinadas con un poco de queso mozzarella light."
                }
            ],
            snack: [
                {
                    title: "Yogur con Frutos Secos",
                    description: "1 yogur griego natural sin az√∫car con un pu√±ado de frutos rojos y 10 almendras."
                },
                {
                    title: "Manzana con Mantequilla de Cacahuete",
                    description: "1 manzana cortada en rodajas con 1 cucharadita de mantequilla de cacahuete natural."
                },
                {
                    title: "Batido de Prote√≠na",
                    description: "Batido de prote√≠na en polvo con agua o leche de almendras y 1/2 pl√°tano."
                },
                {
                    title: "Huevo Duro con Aguacate",
                    description: "1 huevo duro con 1/4 de aguacate y una pizca de sal marina."
                },
                {
                    title: "Bastones de Verduras con Hummus",
                    description: "Bastones de zanahoria, pepino y apio con 2 cucharadas de hummus casero."
                },
                {
                    title: "Pu√±ado de Frutos Secos",
                    description: "Mezcla de 10 almendras, 5 nueces y 1 cucharada de pasas."
                }
            ],
            dinner: [
                {
                    title: "Crema de Verduras",
                    description: "Crema de calabac√≠n y br√≥coli con un toque de jengibre. Acompa√±ada de 1 rebanada de pan integral."
                },
                {
                    title: "Tortilla de Espinacas",
                    description: "Tortilla de 2 claras y 1 yema con espinacas frescas y champi√±ones. Ensalada verde de acompa√±amiento."
                },
                {
                    title: "Pescado al Vapor con Esp√°rragos",
                    description: "Filete de pescado blanco al vapor con lim√≥n y hierbas. Esp√°rragos trigueros salteados con ajo."
                },
                {
                    title: "Ensalada de Garbanzos",
                    description: "Ensalada de garbanzos con at√∫n al natural, pimiento, cebolla morada y vinagreta de mostaza."
                },
                {
                    title: "Calabac√≠n Relleno",
                    description: "Calabac√≠n horneado relleno de quinoa, champi√±ones y cebolla, gratinado con un poco de queso parmesano."
                },
                {
                    title: "Sopa de Pollo y Verduras",
                    description: "Sopa casera de pollo con zanahoria, apio, calabac√≠n y cebolla. Baja en sal."
                }
            ],
            water: {
                title: "Hidrataci√≥n",
                description: "Recuerda beber 2 vasos de agua. Puedes a√±adir una rodaja de lim√≥n, pepino o hierbas frescas para dar sabor."
            },
            exercise: [
                {
                    title: "Cardio Moderado",
                    description: "30-40 minutos de caminata r√°pida, bicicleta est√°tica o el√≠ptica a intensidad moderada."
                },
                {
                    title: "Entrenamiento de Fuerza",
                    description: "20-30 minutos de ejercicios con peso corporal o pesas ligeras: sentadillas, flexiones, planchas, etc."
                },
                {
                    title: "Yoga o Estiramientos",
                    description: "30 minutos de yoga suave o rutina de estiramientos para mejorar flexibilidad y reducir estr√©s."
                },
                {
                    title: "Entrenamiento HIIT",
                    description: "15-20 minutos de entrenamiento por intervalos de alta intensidad: burpees, saltos, mountain climbers."
                },
                {
                    title: "Nataci√≥n",
                    description: "30 minutos de nataci√≥n a ritmo moderado. Excelente ejercicio de bajo impacto."
                }
            ]
        };

        // Horarios fijos
        const schedule = [
            { time: "07:00", type: "breakfast", title: "Desayuno" },
            { time: "08:00", type: "water", title: "Agua" },
            { time: "10:00", type: "water", title: "Agua" },
            { time: "12:00", type: "exercise", title: "Ejercicio" },
            { time: "13:00", type: "lunch", title: "Almuerzo" },
            { time: "15:00", type: "water", title: "Agua" },
            { time: "16:30", type: "snack", title: "Merienda" },
            { time: "17:00", type: "water", title: "Agua" },
            { time: "20:00", type: "water", title: "Agua" },
            { time: "20:30", type: "dinner", title: "Cena" }
        ];

        let currentDate = new Date();
        let selectedDate = new Date();

        // Inicializar el calendario
        document.addEventListener('DOMContentLoaded', function() {
            renderCalendar(currentDate);
            updateDetailsPanel(selectedDate);
            
            // Event listeners para los botones
            document.getElementById('prev-month').addEventListener('click', function() {
                currentDate.setMonth(currentDate.getMonth() - 1);
                renderCalendar(currentDate);
            });
            
            document.getElementById('next-month').addEventListener('click', function() {
                currentDate.setMonth(currentDate.getMonth() + 1);
                renderCalendar(currentDate);
            });
            
            document.getElementById('today-btn').addEventListener('click', function() {
                currentDate = new Date();
                selectedDate = new Date();
                renderCalendar(currentDate);
                updateDetailsPanel(selectedDate);
            });
        });

        function renderCalendar(date) {
            const calendarDays = document.getElementById('calendar-days');
            const currentMonthElement = document.getElementById('current-month');
            
            // Actualizar el t√≠tulo del mes
            const monthNames = ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio",
                               "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"];
            currentMonthElement.textContent = `${monthNames[date.getMonth()]} ${date.getFullYear()}`;
            
            // Limpiar el calendario
            calendarDays.innerHTML = '';
            
            // Obtener el primer d√≠a del mes y el √∫ltimo d√≠a del mes
            const firstDay = new Date(date.getFullYear(), date.getMonth(), 1);
            const lastDay = new Date(date.getFullYear(), date.getMonth() + 1, 0);
            
            // Obtener el d√≠a de la semana del primer d√≠a (0 = Domingo, 1 = Lunes, etc.)
            let firstDayOfWeek = firstDay.getDay();
            // Ajustar para que la semana empiece en lunes
            firstDayOfWeek = firstDayOfWeek === 0 ? 6 : firstDayOfWeek - 1;
            
            // A√±adir d√≠as vac√≠os al principio si es necesario
            for (let i = 0; i < firstDayOfWeek; i++) {
                const emptyDay = document.createElement('div');
                emptyDay.className = 'day empty-day';
                calendarDays.appendChild(emptyDay);
            }
            
            // A√±adir los d√≠as del mes
            for (let day = 1; day <= lastDay.getDate(); day++) {
                const dayElement = document.createElement('div');
                dayElement.className = 'day';
                
                // Marcar el d√≠a actual
                const currentDay = new Date(date.getFullYear(), date.getMonth(), day);
                if (currentDay.toDateString() === selectedDate.toDateString()) {
                    dayElement.classList.add('active');
                }
                
                // Marcar hoy
                const today = new Date();
                if (currentDay.toDateString() === today.toDateString()) {
                    dayElement.style.border = '2px solid var(--accent-color)';
                }
                
                dayElement.innerHTML = `<span class="day-number">${day}</span>`;
                
                // A√±adir eventos del d√≠a
                addEventsToDay(dayElement, day);
                
                // A√±adir evento de clic
                dayElement.addEventListener('click', function() {
                    // Remover la clase active de todos los d√≠as
                    document.querySelectorAll('.day').forEach(d => {
                        d.classList.remove('active');
                    });
                    
                    // A√±adir la clase active al d√≠a seleccionado
                    dayElement.classList.add('active');
                    
                    // Actualizar la fecha seleccionada
                    selectedDate = new Date(date.getFullYear(), date.getMonth(), day);
                    updateDetailsPanel(selectedDate);
                });
                
                calendarDays.appendChild(dayElement);
            }
        }

        function addEventsToDay(dayElement, day) {
            // Solo a√±adir algunos eventos para no saturar la vista
            const eventsToShow = [
                { time: "07:00", type: "breakfast", text: "Desayuno" },
                { time: "13:00", type: "lunch", text: "Almuerzo" },
                { time: "16:30", type: "snack", text: "Merienda" },
                { time: "20:30", type: "dinner", text: "Cena" }
            ];
            
            // Variar ligeramente los eventos seg√∫n el d√≠a para hacerlo m√°s interesante
            if (day % 3 === 0) {
                eventsToShow.push({ time: "12:00", type: "exercise", text: "Ejercicio" });
            }
            
            eventsToShow.forEach(event => {
                const eventElement = document.createElement('div');
                eventElement.className = `event ${event.type}`;
                eventElement.textContent = `${event.time} - ${event.text}`;
                dayElement.appendChild(eventElement);
            });
        }

        function updateDetailsPanel(date) {
            const detailsDate = document.getElementById('details-date');
            const timeSlots = document.getElementById('time-slots');
            
            // Actualizar la fecha en el panel
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            detailsDate.textContent = date.toLocaleDateString('es-ES', options);
            
            // Limpiar los slots de tiempo
            timeSlots.innerHTML = '';
            
            // Calcular √≠ndices para seleccionar comidas basadas en la fecha
            // Esto asegura variedad d√≠a a d√≠a
            const dayOfMonth = date.getDate();
            const month = date.getMonth();
            
            // A√±adir cada horario y comida
            schedule.forEach(slot => {
                const timeSlotElement = document.createElement('div');
                timeSlotElement.className = 'time-slot';
                
                let mealInfo;
                
                // Seleccionar comida diferente seg√∫n el d√≠a y tipo
                if (slot.type === 'water') {
                    mealInfo = mealDatabase.water;
                } else {
                    const mealArray = mealDatabase[slot.type];
                    // Usar una combinaci√≥n de d√≠a y mes para seleccionar comida
                    const index = (dayOfMonth + month) % mealArray.length;
                    mealInfo = mealArray[index];
                }
                
                timeSlotElement.innerHTML = `
                    <div class="time-header">
                        <div class="time">${slot.time}</div>
                        <div class="meal-type ${slot.type}">${slot.title}</div>
                    </div>
                    <div class="meal-title">${mealInfo.title}</div>
                    <div class="meal-description">${mealInfo.description}</div>
                `;
                
                timeSlots.appendChild(timeSlotElement);
            });
            
            // A√±adir recomendaci√≥n diaria personalizada
            const tipElement = document.createElement('div');
            tipElement.className = 'time-slot';
            tipElement.style.backgroundColor = '#E8F5E9';
            tipElement.innerHTML = `
                <div class="time-header">
                    <div class="time">üí°</div>
                    <div class="meal-type" style="background-color: var(--accent-color)">Consejo del D√≠a</div>
                </div>
                <div class="meal-description">${getDailyTip(dayOfMonth)}</div>
            `;
            timeSlots.appendChild(tipElement);
        }

        function getDailyTip(day) {
            const tips = [
                "Bebe un vaso de agua tibia con lim√≥n en ayunas para activar tu metabolismo.",
                "Mastica bien cada bocado y come sin prisa para mejorar la digesti√≥n.",
                "Incluye una porci√≥n de prote√≠na en cada comida para mantener la saciedad.",
                "Prefiere las cocciones al vapor, horno o plancha en lugar de frituras.",
                "Realiza 30 minutos de actividad f√≠sica aunque sea una caminata r√°pida.",
                "Evita los alimentos procesados y az√∫cares refinados.",
                "Incluye verduras de hoja verde en al menos una comida del d√≠a.",
                "Toma infusiones de jengibre o t√© verde para acelerar el metabolismo.",
                "Planifica tus comidas con anticipaci√≥n para evitar tentaciones.",
                "Duerme al menos 7-8 horas para regular las hormonas del apetito.",
                "Consume grasas saludables como aguacate, frutos secos y aceite de oliva.",
                "Incluye fibra en tu dieta para mejorar la digesti√≥n y saciedad.",
                "Reduce el consumo de sal para evitar retenci√≥n de l√≠quidos.",
                "Come cada 3-4 horas para mantener estable tu nivel de az√∫car en sangre.",
                "Realiza ejercicios de fuerza al menos 2 veces por semana.",
                "Toma 2 litros de agua al d√≠a para mantenerte hidratado.",
                "Incluye probi√≥ticos como yogur natural para mejorar tu flora intestinal.",
                "Evita comer frente al televisor o pantallas para ser consciente de lo que consumes.",
                "Prefiere frutas enteras en lugar de jugos para aprovechar toda la fibra.",
                "Controla las porciones usando platos m√°s peque√±os.",
                "Incluye especias como c√∫rcuma, canela y pimienta para dar sabor sin calor√≠as.",
                "Realiza actividad f√≠sica en ayunas para quemar m√°s grasa.",
                "Consume alimentos ricos en omega-3 como pescado azul o semillas de ch√≠a.",
                "Evita los carbohidratos refinados como pan blanco y pasta.",
                "Incluye legumbres 2-3 veces por semana como fuente de prote√≠na vegetal.",
                "Toma un pu√±ado de frutos secos como snack saludable.",
                "Realiza ejercicios de respiraci√≥n profunda para controlar el estr√©s.",
                "Consume alimentos ricos en vitamina C para mejorar la absorci√≥n de hierro.",
                "Prefiere los edulcorantes naturales como stevia en lugar de az√∫car.",
                "Incluye alimentos fermentados como chucrut o k√©fir para mejorar la digesti√≥n.",
                "Realiza estiramientos diarios para mejorar la flexibilidad y circulaci√≥n."
            ];
            
            return tips[(day - 1) % tips.length];
        }
    </script>
</body>
</html>
